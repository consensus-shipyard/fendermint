# Data directory relative to the `--home-dir`, unless given as an absolute path.
data_dir = "data"
# Contract directory relative to the `--home-dir`, unless given as an absolute path.
contracts_dir = "contracts"
# Builtin actor bundle path relative to the `--home-dir`, unless given as an absolute path.
builtin_actors_bundle = "bundle.car"

[abci]
bound = 1

[abci.listen]
# Only accept connections from Tendermint, assumed to be running locally.
host = "127.0.0.1"
# The default port where Tendermint is going to connect to the application.
port = 26658

[db]
# Keep unlimited history by default.
state_hist_size = 0

# FVM configuration
[fvm]
# Overestimation rate applied to gas estimations to ensure that the
# message goes through
gas_overestimation_rate = 1.25
# Gas search step increase used to find the optimal gas limit.
# It determines how fine-grained we want the gas estimation to be.
gas_search_step = 1.25
# Indicate whether transactions should be fully executed during the checks performed
# when they are added to the mempool, or just the most basic ones are performed.
#
# Enabling this option is required to fully support "pending" queries in the Ethereum API,
# otherwise only the nonces and balances are projected into a partial state.
exec_in_check = true

# Ethereum API facade
[eth]
# Maximum time allowed between polls for filter changes, in seconds, before the subscription is canceled.
filter_timeout = 300
# Maximum number of entries in the LRU caches.
cache_capacity = 1000000

[eth.gas]
# Minimum gas premium returned by the API in `eth_maxPriorityFeePerGas`
min_gas_premium = 100000
# Number of blocks used for the computation of the premium in `eth_maxPriorityFeePerGas`
# Default: Lotus uses only 2 epochs to compupte the premium, but they compute the
# median over (on average) 10 blocks, 5 per epoch.
num_blocks_max_prio_fee = 10
# Maximum size of the histogram for `eth_feeHistory`
max_fee_hist_size = 1024

[eth.listen]
# Only accept local connections by default.
host = "127.0.0.1"
# The default port where the Ethereum API will listen to
# JSON-RPC (POST) and WebSockets (GET) requests.
port = 8545

# IPC Parent finality related configuration
[ipc]
# Subnet id assigned to this fendermint node. Update this to the correct subnet id.
# TODO: fetch this value from genisis if possible.
subnet_id = "/r0"

[ipc.topdown]
# The number of blocks behind chain head to propose parent finality.
chain_head_delay = 900
# The number of seconds to polling ipc agent for latest parent view
polling_interval_secs = 10
# The ipc agent url
ipc_agent_url = "http://127.0.0.1:3030/json_rpc"
# The max number of retries for exponential backoff before giving up
exponential_retry_limit = 20
# Top down exponential back off retry base
exponential_back_off_secs = 10